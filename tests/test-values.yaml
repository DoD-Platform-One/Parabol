
packages:
  parabol:
    enabled: true
    namespace:
      name: parabol
    helmRelease:
      namespace: "bigbang"
    sourceType: "git"
    git:
      repo: https://repo1.dso.mil/big-bang/product/community/parabol.git
      path: "./chart"
    wrapper:
      enabled: true
    # dependsOn:
    #   - name: monitoring
    #     namespace: bigbang
    #   - name: grafana
    #     namespace: bigbang
    values:
      global:
        imagePullSecrets:
          - name: private-registry
        imageRegistry:
          host: registry1.dso.mil
      services:
        redis:
          localStorage:
            enabled: true
        postgres:
          localStorage:
            enabled: true
            volumeSize: 10Gi

        parabol:
          localStorage:
            enabled: true
            volumeSize: 1Gi
            awsEbs: false
            storageClassName: "local-path"
            accessModes:
            - ReadWriteOnce

      ingress:
        enabled: true
        gateways:
          - istio-gateway/public-ingressgateway

      networkPolicies:
        enabled: false

      parabolDeployment:
        env:
          serverId: 1
          authGooleDisabled: false
          isEnterprise: true

        livenessProbe: []
        readinessProbe:
          initialDelaySeconds: 30
          periodSeconds: 10
          timeoutSeconds: 5
          failureThreshold: 3
          successThreshold: 1
          httpGet:
            path: /manifest.json
            port: 3000

      monitoring:
        enabled: true
        dashboards:
          namespace: monitoring
          label: grafana_dashboard
        redis:
          metricsPort: 9121
        postgres:
          metricsPort: 9187
          env:
          - name: DATA_SOURCE_NAME
            value: postgresql://postgres:parabol@localhost:5432/parabol?sslmode=disable
      grafana:
        enabled: true
### Big Bang Configurations and packages enabled
networkPolicies:
  enabled: false
grafana:
  enabled: true
  values:
    bbtests:
      enabled: false
monitoring:
  enabled: true
  values:
    bbtests:
      enabled: false
kyvernoPolicies:
  values:
    bbtests:
      enabled: false
kyverno:
  values:
    bbtests:
      enabled: false
